<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qmake-manual.qdoc -->
  <title>运行qmake| qmake手册</title>
  <link rel="stylesheet" type="text/css" href="style/offline-simple.css" />
  <script type="text/javascript">
    window.onload = function(){document.getElementsByTagName("link").item(0).setAttribute("href", "style/offline.css");};
  </script>
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="main">
    <div class="main-rounded">
      <div class="navigationbar">
        <table><tr>
<td ><a href="../qtdoc/supported-platforms-and-configurations.html#qt-5-8">Qt 5.8</a></td><td ><a href="qmake-manual.html">qmake手册</a></td><td >运行qmake</td></tr></table><table class="buildversion"><tr>
<td id="buildversion" width="100%" align="right">Qt 5.8.0 参考文档</td>
        </tr></table>
      </div>
    </div>
<div class="content">
<div class="line">
<div class="content mainContent">
  <link rel="prev" href="qmake-common-projects.html" />
  <link rel="next" href="qmake-platform-notes.html" />
<p class="naviNextPrevious headerNavi">
<a class="prevPage" href="qmake-common-projects.html">生成通用工程类型</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="qmake-platform-notes.html">平台说明</a>
</p><p/>
<div class="sidebar">
<div class="toc">
<h3><a name="toc">内容</a></h3>
<ul>
<li class="level1"><a href="#command-syntax">命令语法</a></li>
<li class="level1"><a href="#operating-modes">操作模式</a></li>
<li class="level1"><a href="#files">文件</a></li>
<li class="level1"><a href="#general-options">通用选项</a></li>
<li class="level1"><a href="#makefile-mode-options">makefile模式选项</a></li>
<li class="level1"><a href="#project-mode-options">工程模式选项</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">运行qmake</h1>
<span class="subtitle"></span>
<!-- $$$qmake-running.html-description -->
<div class="descr"> <a name="details"></a>
<p>qmake提供了在命令行中指定不同的选项的行为能力。这些允许生成过程可以做的更好，提供有用的诊断信息，同时对于指定目标平台下的自有工程非常有用。</p>
<a name="command-syntax"></a>
<h2 id="command-syntax">命令语法</h2>
<p>运行qmake的语法使用了如下的简单表格样式:</p>
<pre class="cpp">

  qmake [mode] [options] files

</pre>
<a name="operating-modes"></a>
<h2 id="operating-modes">操作模式</h2>
<p>qmake支持两种不同的操作模式。默认模式中，qmake根据工程文件信息生成makefile，但是也有可能使用qmake生成工程文件。 若你想直接设置模式，则必须在所有其他参数之前设置它。 这个<code>mode</code>可以支持如下两种值：</p>
<ul>
<li><code>-makefile</code> <br />qmake输出将是一个makefile。</li>
<li><code>-project</code> <br /> qmake输出将是一个工程文件。<br /><p><b>注意: </b>极有可能生成的文件无需编辑。 举个例子，增加<code>QT</code>变量来指明工程文件所需要的模块。</p></li>
</ul>
<p>你也可以使用<code>options</code>来指明通用和指定模式相关的设置。哪些只应用于makefile的选项在这里有详细描述细节<a href="qmake-running.html#makefilemode">makefile模式选项</a>,但是哪些影响工程文件生成的选项在这里有详细描述细节<a href="qmake-running.html#projectmode">工程模式选项</a> </p>
<a name="files"></a>
<h2 id="files">文件</h2>
<p>The <code>files</code> argument represents a list of one or more project files, separated by spaces.</p>
<a name="general-options"></a>
<h2 id="general-options">通用选项</h2>
<p>A wide range of options can be specified on the command line to qmake in order to customize the build process, and to override default settings for your platform. The following basic options provide help on using qmake, specify where qmake writes the output file, and control the level of debugging information that will be written to the console:</p>
<ul>
<li><code>-help</code> <br /> qmake will go over these features and give some useful help.</li>
<li><code>-o file</code> <br /> qmake output will be directed to <code>file</code>. If this option is not specified, qmake will try to use a suitable file name for its output, depending on the mode it is running in.<br /> If '-' is specified, output is directed to stdout.</li>
<li><code>-d</code> <br /> qmake will output debugging information. Adding <code>-d</code> more than once increases verbosity.</li>
</ul>
<p>The template used for the project is usually specified by the <a href="qmake-variable-reference.html#template">TEMPLATE</a> variable in the project file. You can override or modify this by using the following options:</p>
<ul>
<li><code>-t tmpl</code> <br /> qmake will override any set <code>TEMPLATE</code> variables with <code>tmpl</code>, but only <i>after</i> the .pro file has been processed.</li>
<li><code>-tp prefix</code> <br /> qmake will add <code>prefix</code> to the <code>TEMPLATE</code> variable.</li>
</ul>
<p>The level of warning information can be fine-tuned to help you find problems in your project file:</p>
<ul>
<li><code>-Wall</code> <br /> qmake will report all known warnings.</li>
<li><code>-Wnone</code> <br /> No warning information will be generated by qmake.</li>
<li><code>-Wparser</code> <br /> qmake will only generate parser warnings. This will alert you to common pitfalls and potential problems in the parsing of your project files.</li>
<li><code>-Wlogic</code> <br /> qmake will warn of common pitfalls and potential problems in your project file. For example, qmake will report multiple occurrences of files in lists and missing files.</li>
</ul>
<a name="makefilemode"></a><a name="makefile-mode-options"></a>
<h2 id="makefile-mode-options">makefile模式选项</h2>
<pre class="cpp">

  qmake -makefile [options] files

</pre>
<p>In Makefile mode, qmake will generate a Makefile that is used to build the project. Additionally, the following options may be used in this mode to influence the way the project file is generated:</p>
<ul>
<li><code>-after</code> <br /> qmake will process assignments given on the command line after the specified files.</li>
<li><code>-nocache</code> <br /> qmake will ignore the <code>.qmake.cache</code> file.</li>
<li><code>-nodepend</code> <br /> qmake will not generate any dependency information.</li>
<li><code>-cache file</code> <br /> qmake will use <code>file</code> as the cache file, ignoring any other .qmake.cache files found.</li>
<li><code>-spec spec</code> <br /> qmake will use <code>spec</code> as a path to platform and compiler information, and ignore the value of <a href="qmake-environment-reference.html#qmakespec">QMAKESPEC</a>.</li>
</ul>
<p>You may also pass qmake assignments on the command line. They are processed before all of the files specified. For example, the following command generates a Makefile from test.pro:</p>
<pre class="cpp">

  qmake -makefile -o Makefile &quot;CONFIG+=test&quot; test.pro

</pre>
<p>但是，一些指定选项若是默认值，则这些选项将被忽略:</p>
<pre class="cpp">

  qmake &quot;CONFIG+=test&quot; test.pro

</pre>
<p>If you are certain you want your variables processed after the files specified, then you may pass the <code>-after</code> option. When this is specified, all assignments on the command line after the <code>-after</code> option will be postponed until after the specified files are parsed.</p>
<a name="projectmode"></a><a name="project-mode-options"></a>
<h2 id="project-mode-options">工程模式选项</h2>
<pre class="cpp">

  qmake -project [options] files

</pre>
<p>在工程模式下，qmake将生成工程文件。除此之外，你可以支持在工程模式中支持如下选项:</p>
<ul>
<li><code>-r</code> <br /> qmake将进行递归循化查找支持的目录。</li>
<li><code>-nopwd</code> <br />qmake不会在当前工作目录下查找源代码。 它将仅仅使用指定的<code>files</code>.</li>
</ul>
<p>在工程模式下，<code>files</code>参数可以是文件或路径的列表，如果路径已指定，它将包含<a href="qmake-variable-reference.html#dependpath">DEPENDPATH</a>变量，
 and relevant code from there will be included in the generated project file. If a file is given,
 it will be appended to the correct variable, depending on its extension. For example, UI files are added to <a href="qmake-variable-reference.html#forms">FORMS</a>
 , and C++ files are added to <a href="qmake-variable-reference.html#sources">SOURCES</a>.</p>
<p>在工程模式下，你可以在命令行中传递赋值。如此操作，在生成的工程文件将这些赋值最终将被替换。</p>
</div>
<!-- @@@qmake-running.html -->
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="qmake-common-projects.html">生成通用工程类型</a>
<span class="naviSeparator">  &#9702;  </span>
<a class="nextPage" href="qmake-platform-notes.html">平台说明</a>
</p>
        </div>
       </div>
   </div>
   </div>
</div>
<div class="footer">
   <p>
   <acronym title="Copyright">&copy;</acronym> 2016 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.<br>    The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.<br>    Qt and respective logos are trademarks of The Qt Company Ltd.     in Finland and/or other countries worldwide. All other trademarks are property
   of their respective owners. </p>
</div>
</body>
</html>
